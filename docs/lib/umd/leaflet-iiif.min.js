/*! For license information please see leaflet-iiif.min.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("leaflet")):"function"==typeof define&&define.amd?define(["leaflet"],e):"object"==typeof exports?exports["leaflet-iiif"]=e(require("leaflet")):t["leaflet-iiif"]=e(t.L)}(this,(function(t){return(()=>{"use strict";var e=[,(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.IIIF_EVENTS=void 0,e.IIIF_EVENTS={CHANGE_FORMAT:"iiif:format",CHANGE_QUALITY:"iiif:quality",CHANGE_ROTATION:"iiif:rotation",CHANGE_MIRRORING:"iiif:mirroring"}},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.IIIFLayer=void 0;const o=i(3).__importStar(i(4)),r=i(5),n=i(1),a=i(6),s=i(7),l=i(8);class u extends o.TileLayer{constructor(t,e={}){super(t,e),this.map=null,this._url="",this.server=r.SERVER_CAPABILITIES_DEFAULT,this.height=0,this.width=0,this.zoomLayers=[],this.setUrl(s.templateUrl(t))}initialize(t,e){return this.initializePromise=new Promise(((i,n)=>{fetch(t).then((s=>{s.json().then((t=>{this.height=t.height,this.width=t.width,this.server=a.computeServerCapabilities(t),this.options=o.default.Util.setOptions(this,Object.assign({},r.DEFAULT_OPTIONS,{tileSize:this.server.tileSize||r.DEFAULT_OPTIONS.tileSize,tileFormat:this.server.formats[0]||r.DEFAULT_OPTIONS.tileFormat,quality:this.server.qualities&&this.server.qualities.includes("native")?"native":"default",minZoom:this.server.minZoom||r.DEFAULT_OPTIONS.minZoom,maxZoom:this.server.maxZoom||r.DEFAULT_OPTIONS.maxZoom},e)),i()})).catch((e=>n(`Fail to fetch url ${t} : ${e}`)))})).catch((e=>n(`Fail to fetch url ${t} : ${e}`)))})),this}onAdd(t){return this.map=t,this.initializePromise.then((()=>{this.computeZoomLayers(),super.onAdd(t),this.options.fitBounds&&this.map.fitBounds(this.getBounds()),this.options.setMaxBounds&&this.map.setMaxBounds(this.getBounds())})),this.registerEvents(t),this}onRemove(t){return super.onRemove(t),this.options.setMaxBounds&&t.setMaxBounds(null),this.unRegisterEvents(t),this}getTileUrl(t){const e=t.z,i=t.x,r=t.y,n=this.zoomLayers.find((t=>t.zoom===e));if(!n)throw new Error(`Can't create tile for zoom ${e}`);const a=l.projectSquare(-1*this.options.rotation,{bottomLeft:{x:i,y:r},topRight:{x:i+1,y:r+1}}),s=this.options.tileSize.x/n.scale,u=this.options.tileSize.y/n.scale;let c=Math.min(a.bottomLeft.x*s,this.width);const h=Math.min(a.bottomLeft.y*u,this.height);let f=Math.min(c+s,this.width);const p=Math.min(h+u,this.height);if(!0===this.options.mirroring){const t=f-c;c=this.width-c-t,f=this.width-f+t}const m={format:this.options.tileFormat,quality:this.options.quality,mirroring:this.options.mirroring,region:[c,h,Math.abs(f-c),Math.abs(p-h)],rotation:(360-this.options.rotation)%360,size:[Math.abs(f-c),Math.abs(p-h)].map((t=>Math.ceil(t*n.scale)))};return o.default.Util.template(this._url,{format:m.format,quality:m.quality,mirroring:m.mirroring?"!":"",region:m.region.join(","),rotation:m.rotation,size:m.size.join(",")})}_isValidTile(t){let e=!1;const i=t.x,o=t.y,r=t.z,n=l.projectSquare(-1*this.options.rotation,{bottomLeft:{x:i,y:o},topRight:{x:i+1,y:o+1}});if(this.options.minZoom<=r&&r<=this.options.maxZoom){const t=this.zoomLayers.find((t=>t.zoom===r));t&&0<=n.bottomLeft.x&&n.bottomLeft.x<t.tiles[0]&&0<=n.bottomLeft.y&&n.bottomLeft.y<t.tiles[1]&&(e=!0)}return e}getBounds(){let t=o.default.latLngBounds([0,1],[1,0]);const e=this.zoomLayers.find((t=>1===t.scale));if(null!==this.map&&e){const i=l.projectSquare(this.options.rotation,{bottomLeft:{x:0,y:e.height},topRight:{x:e.width,y:0}}),r=this.map.unproject(o.default.point(i.bottomLeft),0),n=this.map.unproject(o.default.point(i.topRight),0);t=o.default.latLngBounds(r,n)}return t}computeZoomLayers(){this.zoomLayers=[];let t=this.options.minZoom;for(;t<=this.options.maxZoom;){const e=Math.pow(2,t),i=Math.ceil(this.height*e),o=Math.ceil(this.width*e);this.zoomLayers.push({zoom:t,scale:e,height:i,width:o,tiles:[Math.ceil(o/this.options.tileSize.x),Math.ceil(i/this.options.tileSize.y)]}),t++}null!==this.map&&(this.map.setMaxZoom(this.zoomLayers[this.zoomLayers.length-1].zoom),this.map.setMinZoom(this.zoomLayers[0].zoom))}registerEvents(t){this.on("tileload",this.onTileLoadStyle),t.on(n.IIIF_EVENTS.CHANGE_FORMAT,(t=>this.changeFormat(t.value))),t.on(n.IIIF_EVENTS.CHANGE_QUALITY,(t=>this.changeQuality(t.value))),t.on(n.IIIF_EVENTS.CHANGE_ROTATION,(t=>this.changeRotation(t.value))),t.on(n.IIIF_EVENTS.CHANGE_MIRRORING,(t=>this.changeMirroring(t.value)))}unRegisterEvents(t){this.off("tileload",this.onTileLoadStyle),t.off(n.IIIF_EVENTS.CHANGE_FORMAT,(t=>this.changeFormat(t.value))),t.off(n.IIIF_EVENTS.CHANGE_QUALITY,(t=>this.changeQuality(t.value))),t.off(n.IIIF_EVENTS.CHANGE_ROTATION,(t=>this.changeRotation(t.value))),t.off(n.IIIF_EVENTS.CHANGE_MIRRORING,(t=>this.changeMirroring(t.value)))}changeFormat(t){this.options.tileFormat=t,this.redraw()}changeQuality(t){this.options.quality=t,this.redraw()}changeRotation(t){this.options.rotation=t,this.options.setMaxBounds&&null!==this.map&&this.map.setMaxBounds(this.getBounds()),this.redraw()}changeMirroring(t){this.options.mirroring=t,this.redraw()}onTileLoadStyle(t){if(t.tile.naturalWidth!==this.options.tileSize.x||t.tile.naturalHeight!==this.options.tileSize.y){t.tile.style.width=`${t.tile.naturalWidth}px`,t.tile.style.height=`${t.tile.naturalHeight}px`;switch(this.options.rotation%360){case 90:t.tile.style.top=this.options.tileSize.x-t.tile.naturalHeight+"px",t.tile.style.right=this.options.tileSize.y-t.tile.naturalWidth+"px";break;case 180:t.tile.style.top=this.options.tileSize.x-t.tile.naturalHeight+"px",t.tile.style.left=this.options.tileSize.y-t.tile.naturalWidth+"px";break;case 270:t.tile.style.top="0",t.tile.style.bottom=this.options.tileSize.x-t.tile.naturalHeight+"px",t.tile.style.left=this.options.tileSize.y-t.tile.naturalWidth+"px"}}}}e.IIIFLayer=u},(t,e,i)=>{i.r(e),i.d(e,{__extends:()=>r,__assign:()=>n,__rest:()=>a,__decorate:()=>s,__param:()=>l,__metadata:()=>u,__awaiter:()=>c,__generator:()=>h,__createBinding:()=>f,__exportStar:()=>p,__values:()=>m,__read:()=>d,__spread:()=>y,__spreadArrays:()=>_,__await:()=>g,__asyncGenerator:()=>v,__asyncDelegator:()=>I,__asyncValues:()=>b,__makeTemplateObject:()=>x,__importStar:()=>E,__importDefault:()=>S,__classPrivateFieldGet:()=>O,__classPrivateFieldSet:()=>T});var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function r(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var n=function(){return(n=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function a(t,e){var i={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(i[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(i[o[r]]=t[o[r]])}return i}function s(t,e,i,o){var r,n=arguments.length,a=n<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(n<3?r(a):n>3?r(e,i,a):r(e,i))||a);return n>3&&a&&Object.defineProperty(e,i,a),a}function l(t,e){return function(i,o){e(i,o,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,i,o){return new(i||(i=Promise))((function(r,n){function a(t){try{l(o.next(t))}catch(t){n(t)}}function s(t){try{l(o.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(a,s)}l((o=o.apply(t,e||[])).next())}))}function h(t,e){var i,o,r,n,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(r=2&n[0]?o.return:n[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,n[1])).done)return r;switch(o=0,r&&(n=[2&n[0],r.value]),n[0]){case 0:case 1:r=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!r||n[1]>r[0]&&n[1]<r[3])){a.label=n[1];break}if(6===n[0]&&a.label<r[1]){a.label=r[1],r=n;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(n);break}r[2]&&a.ops.pop(),a.trys.pop();continue}n=e.call(t,a)}catch(t){n=[6,t],o=0}finally{i=r=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}}function f(t,e,i,o){void 0===o&&(o=i),t[o]=e[i]}function p(t,e){for(var i in t)"default"===i||e.hasOwnProperty(i)||(e[i]=t[i])}function m(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,r,n=i.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(r)throw r.error}}return a}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function _(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var o=Array(t),r=0;for(e=0;e<i;e++)for(var n=arguments[e],a=0,s=n.length;a<s;a++,r++)o[r]=n[a];return o}function g(t){return this instanceof g?(this.v=t,this):new g(t)}function v(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=i.apply(t,e||[]),n=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(t){r[t]&&(o[t]=function(e){return new Promise((function(i,o){n.push([t,e,i,o])>1||s(t,e)}))})}function s(t,e){try{(i=r[t](e)).value instanceof g?Promise.resolve(i.value.v).then(l,u):c(n[0][2],i)}catch(t){c(n[0][3],t)}var i}function l(t){s("next",t)}function u(t){s("throw",t)}function c(t,e){t(e),n.shift(),n.length&&s(n[0][0],n[0][1])}}function I(t){var e,i;return e={},o("next"),o("throw",(function(t){throw t})),o("return"),e[Symbol.iterator]=function(){return this},e;function o(o,r){e[o]=t[o]?function(e){return(i=!i)?{value:g(t[o](e)),done:"return"===o}:r?r(e):e}:r}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,i=t[Symbol.asyncIterator];return i?i.call(t):(t=m(t),e={},o("next"),o("throw"),o("return"),e[Symbol.asyncIterator]=function(){return this},e);function o(i){e[i]=t[i]&&function(e){return new Promise((function(o,r){(function(t,e,i,o){Promise.resolve(o).then((function(e){t({value:e,done:i})}),e)})(o,r,(e=t[i](e)).done,e.value)}))}}}function x(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function S(t){return t&&t.__esModule?t:{default:t}}function O(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function T(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i}},e=>{e.exports=t},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_CONTROL_OPTIONS=e.DEFAULT_OPTIONS=e.SERVER_CAPABILITIES_DEFAULT=void 0;const o=i(3).__importDefault(i(4));e.SERVER_CAPABILITIES_DEFAULT={version:"3.0",formats:[],qualities:[],rotation:!1,mirroring:!1,tileSize:null,minZoom:-2,maxZoom:0},e.DEFAULT_OPTIONS={tileSize:o.default.point(256,256),tileFormat:"jpg",quality:"default",rotation:0,mirroring:!1,fitBounds:!0,setMaxBounds:!1,minZoom:0,maxZoom:0,zoomOffset:0},e.DEFAULT_CONTROL_OPTIONS={quality:{enabled:!0,title:"Quality",html:"<span />"},format:{enabled:!0,title:"Format",html:"<span />"},rotation:{enabled:!0,title:"Rotation",html:"<span />"},mirroring:{enabled:!0,title:"Mirroring",html:"<span />"}}},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.computeServerCapabilitiesForV1=e.computeServerCapabilities=void 0;const o=i(3).__importDefault(i(4)),r=i(5);function n(t){const e=Object.assign({},r.SERVER_CAPABILITIES_DEFAULT);e.version="1.1";const i=`${t.profile}`.match(/^http:\/\/library.stanford.edu\/iiif\/image-api\/1.1\/compliance.html#(.*)$/);switch(i&&2===i.length?i[1]:"level0"){case"level2":e.rotation=!0,e.formats=["jpg","png"],e.qualities=["native","color","grey","bitonial"];break;case"level1":e.rotation=!0,e.formats=["jpg"],e.qualities=["native"];break;default:e.rotation=!1,e.formats=["jpg"],e.qualities=["native"]}return t.formats&&(e.formats=t.formats),t.qualities&&(e.qualities=t.qualities),t.tile_width&&(e.tileSize=o.default.point(t.tile_width,t.tile_height?t.tile_height:t.tile_width)),t.scale_factors&&t.scale_factors.length>-1&&(e.minZoom=Math.log2(t.scale_factors[t.scale_factors.length-1])*(t.scale_factors[t.scale_factors.length-1]>1?-1:1),e.maxZoom=Math.log2(t.scale_factors[0])*(t.scale_factors[0]>1?-1:1)),e}e.computeServerCapabilities=function(t){let e=`${t["@context"]}`;switch(t["@context"]instanceof Array&&(e=t["@context"][t["@context"].length-1]),e){case"http://library.stanford.edu/iiif/image-api/1.1/context.json":return n(t);case"http://iiif.io/api/image/2/context.json":return function(t){const e=Object.assign({},r.SERVER_CAPABILITIES_DEFAULT);e.version="2.0";switch(t.profile[0]){case"level2":e.qualities=["default","bitonial"],e.formats=["jpg","png"];break;case"level1":e.qualities=["default"],e.formats=["jpg","png"];break;default:e.qualities=["default"],e.formats=["jpg"]}t.profile[1]&&t.profile[1].formats&&(e.formats=t.profile[1].formats);t.profile[1]&&t.profile[1].qualities&&(e.qualities=t.profile[1].qualities);t.profile[1]&&t.profile[1].supports&&(t.profile[1].supports.includes("rotationBy90s")||t.profile[1].supports.includes("rotationArbitrary"))&&(e.rotation=!0);t.profile[1]&&t.profile[1].supports&&t.profile[1].supports.includes("mirroring")&&(e.mirroring=!0);if(t.tiles&&t.tiles.length>-1){const i=t.tiles[0];e.tileSize=o.default.point(i.width,i.height?i.height:i.width),e.minZoom=Math.log2(i.scaleFactors[i.scaleFactors.length-1])*(i.scaleFactors[i.scaleFactors.length-1]>1?-1:1),e.maxZoom=Math.log2(i.scaleFactors[0])*(i.scaleFactors[0]>1?-1:1)}return e}(t);case"http://iiif.io/api/image/3/context.json":default:return function(t){const e=Object.assign({},r.SERVER_CAPABILITIES_DEFAULT);e.version="3.0";switch(t.profile){case"level2":e.qualities=["default"],e.formats=["jpg","png"];break;default:e.qualities=["default"],e.formats=["jpg"]}t.extraFormats&&t.extraFormats instanceof Array&&(e.formats=e.formats.concat(t.extraFormats.filter((t=>!e.formats.includes(t)))));t.extraQualities&&t.extraQualities instanceof Array&&(e.qualities=e.qualities.concat(t.extraQualities.filter((t=>!e.qualities.includes(t)))));t.extraFeatures&&(t.extraFeatures.includes("rotationBy90s")||t.extraFeatures.includes("rotationArbitrary"))&&(e.rotation=!0);t.extraFeatures&&t.extraFeatures.includes("mirroring")&&(e.mirroring=!0);if(t.tiles&&t.tiles.length>-1){const i=t.tiles[0];e.tileSize=o.default.point(i.width,i.height?i.height:i.width),e.minZoom=Math.log2(i.scaleFactors[i.scaleFactors.length-1])*(i.scaleFactors[i.scaleFactors.length-1]>1?-1:1),e.maxZoom=Math.log2(i.scaleFactors[0])*(i.scaleFactors[0]>1?-1:1)}return e}(t)}},e.computeServerCapabilitiesForV1=n},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.templateUrl=void 0,e.templateUrl=function(t){return t.replace(/info.json$/,"{region}/{size}/{mirroring}{rotation}/{quality}.{format}")}},(t,e)=>{function i(t,e){const i=-1*t*Math.PI/180;return{x:Math.round(e.x*Math.cos(i)-e.y*Math.sin(i)),y:Math.round(e.y*Math.cos(i)+e.x*Math.sin(i))}}Object.defineProperty(e,"__esModule",{value:!0}),e.projectSquare=e.projectPoint=void 0,e.projectPoint=i,e.projectSquare=function(t,e){const o=i(t,e.bottomLeft),r=i(t,e.topRight),n=Math.min(o.x,r.x),a=Math.max(o.x,r.x);return{bottomLeft:{x:n,y:Math.min(o.y,r.y)},topRight:{x:a,y:Math.max(o.y,r.y)}}}},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.IIIFControl=void 0;const o=i(3).__importStar(i(4)),r=i(1),n=i(5),a="leaflet-control-iiif";class s extends o.Control{constructor(t,e={}){super(Object.assign({},n.DEFAULT_CONTROL_OPTIONS,e)),this.layer=t,this._container=o.default.DomUtil.create("div",`${a} leaflet-bar`)}onAdd(t){const e=this.getContainer();if(!e)throw new Error("Container for control is undefined");return this.layer.initializePromise.then((()=>{if(!0===this.options.quality.enabled){const e=this.options.quality.values?this.options.quality.values:this.layer.server.qualities;this.createActions(this._container,this.options.quality.title,`${a}-quality`,this.options.quality.html,e.map((e=>({title:e,className:`${a}-quality-${e}`,innerHTML:e,fn:()=>{t.fire(r.IIIF_EVENTS.CHANGE_QUALITY,{value:e})}}))))}if(!0===this.options.format.enabled){const i=this.options.format.values?this.options.format.values:this.layer.server.formats;this.createActions(e,this.options.format.title,`${a}-format`,this.options.format.html,i.map((e=>({title:e,className:`${a}-format-${e}`,innerHTML:e,fn:()=>{t.fire(r.IIIF_EVENTS.CHANGE_FORMAT,{value:e})}}))))}if(!0===this.options.rotation.enabled&&!0===this.layer.server.rotation){const i=this.options.rotation.values?this.options.rotation.values:["0","90","180","270"];this.createActions(e,this.options.rotation.title,`${a}-rotation`,this.options.rotation.html,i.map((e=>({title:e,className:`${a}-rotation-${e}`,innerHTML:e,fn:()=>{t.fire(r.IIIF_EVENTS.CHANGE_ROTATION,{value:Number.parseInt(e)})}}))))}!0===this.options.mirroring.enabled&&!0===this.layer.server.mirroring&&this.createButton(e,this.options.mirroring.title,`${a}-mirroring`,this.options.mirroring.html,(()=>{t.fire(r.IIIF_EVENTS.CHANGE_MIRRORING,{value:!this.layer.options.mirroring})}))})),e}createActions(t,e,i,r,n){const a=o.default.DomUtil.create("div",i);this.createButton(a,e,i,r,(()=>{t.dataset.opened===i?t.dataset.opened="":t.dataset.opened=i}));const s=o.default.DomUtil.create("ul",i);n.forEach((e=>{const i=o.default.DomUtil.create("li","",s);this.createButton(i,e.title,e.className,e.innerHTML,(()=>{e.fn(),t.dataset.opened=""})),s.appendChild(i)})),a.appendChild(s),t.appendChild(a)}createButton(t,e,i,r,n){const a=o.default.DomUtil.create("a",i,t);return a.title=e,a.innerHTML=r,o.default.DomEvent.on(a,"mousedown dblclick",o.default.DomEvent.stopPropagation).on(a,"click",n,this),a}}e.IIIFControl=s}],i={};function o(t){var r=i[t];if(void 0!==r)return r.exports;var n=i[t]={exports:{}};return e[t](n,n.exports,o),n.exports}o.d=(t,e)=>{for(var i in e)o.o(e,i)&&!o.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};return(()=>{var t=r;Object.defineProperty(t,"__esModule",{value:!0}),t.IIIFControl=t.IIIFLayer=void 0;const e=o(1),i=o(2);Object.defineProperty(t,"IIIFLayer",{enumerable:!0,get:function(){return i.IIIFLayer}});const n=o(9);Object.defineProperty(t,"IIIFControl",{enumerable:!0,get:function(){return n.IIIFControl}}),window.L.Iiif={Event:e.IIIF_EVENTS},window.L.tileLayer.iiif=function(t,e){return new i.IIIFLayer(t,e)},window.L.control.iiif=function(t,e){return new n.IIIFControl(t,e)}})(),r})()}));
//# sourceMappingURL=leaflet-iiif.min.js.map